# whatss7-avz-scripts

## 说明

使用 [AvZ 2](https://github.com/vector-wlc/AsmVsZombies) 编写的键控脚本。请注意 AvZ 2 与 AvZ 1 区别很大，下列脚本不适用于 AvZ 1 用户。

以下说明“无伤”的，指玉米加农炮、忧郁菇等输出植物无伤，南瓜头和垫材等可能受伤；或者即使受伤，也有能力通过换炮等方式解决。

- 标题后跟有“挂机”的，指已经测试无操作挂机100f无伤。
  - 与“不稳定”一起标注时，挂机仅测试2f，但理论上可挂机。
  - “挂机\*”表示特定情况下可挂机，具体查看阵型对应说明。
- 标题后跟有“手动”的，指此脚本有必要的手动操作；否则，默认至少能挂机完成一次全难度极限出怪。
- 标题后跟有“不稳定”的，指虽然已经2f无伤，但是存在明显缺陷。
- 标题后跟有“未完成”的，指此脚本还未写完。

[键控考级阵脚本汇总](./level.md)

[目录中没有的旧阵型在此处查阅](./旧阵型/README.md)

## 目录

- [whatss7-avz-scripts](#whatss7-avz-scripts)
  - [说明](#说明)
  - [目录](#目录)
  - [已完成的阵型](#已完成的阵型)
    - [NE 土豆四炮 邻C7u](#ne-土豆四炮-邻c7u)
    - [DE 前置八炮 ch5](#de-前置八炮-ch5)
    - [FE 新磁铁四炮 对C6u 不稳定](#fe-新磁铁四炮-对c6u-不稳定)
    - [PE 无冰瓜二十炮 P6-2I 挂机\*](#pe-无冰瓜二十炮-p6-2i-挂机)
    - [PE 玉米八炮 对ch6](#pe-玉米八炮-对ch6)
    - [RE 中开六炮 C6i-N 不稳定](#re-中开六炮-c6i-n-不稳定)
    - [NE 舞夜惊魂 P6](#ne-舞夜惊魂-p6)
    - [NE 新舞夜惊魂 P6](#ne-新舞夜惊魂-p6)
    - [RE 方块八炮 ch4\*](#re-方块八炮-ch4)
  - [计划完成的阵型](#计划完成的阵型)
    - [PE 全金属四炮 ch4-N 手动 不稳定](#pe-全金属四炮-ch4-n-手动-不稳定)


## 已完成的阵型

### NE 土豆四炮 邻C7u

[邻C7u: I-PP | I-PP | AA'a | N | PP (16, 19, 6, 6.9, 6)](./NE土豆四炮/potato4p.cpp)

使用智能脚本，3路出现极慢矿工时，推迟土豆雷的放置时机防止短冰波矿工啃雷。1路漏炸的跳跳会被辣椒烧掉。

唯一的问题就是窝瓜太能演了，AA'a波疯狂刷新延迟...

### DE 前置八炮 ch5

[ch5: I-PP | IPP-PP | PP (15, 15, 6)](./DE前置八炮/front8p.cpp)

极其简单的ch5，就没什么好说的了。

### FE 新磁铁四炮 对C6u 不稳定

[对C6u: ICC-PA | PP | ICC-PA'a | N (19, 6, 19, 6)](./FE新磁铁四炮/xct4p.cpp)

双边扎冰车，阳光消耗极大，但是需要这样守六列炮。防止窝瓜演戏，2路小丑冲家爆炸，在Aa'波使用大蒜控丑。

不稳定在于，1路巨人被辣椒解除减速后身位过于靠前，导致投出小鬼啃食底线炮；1路6路巨人砸5列植物；蹦极偷盲3-1/3-2/4-1/4-2。前两个考虑使用地刺大蒜垫一下，但后面一个只能考虑低压关补了，实在没有空位再带磁力菇了。

### PE 无冰瓜二十炮 P6-2I 挂机\*

[P6: PPDD | PPDD | PPI | PPDD | PPDD | PPI (6, 6, 6, 6, 6, 6)](./PE无冰瓜二十炮/winterless20p.cpp)

**\*: 本脚本挂机测试采用随机极限出怪。**

不想适配自然出怪了，刷新延迟处理得头疼，就极限出怪挂机了。

分为有红眼和无红眼，有红眼时采用P6-2I，无红眼时使用类似经典十八炮的节奏来回复阳光。

所以，键控二级了！

### PE 玉米八炮 对ch6

[对ch6: I-PP | PP | I-PP | PP (12.5, 6, 12.5, 6)](./PE玉米八炮/corn8p.cpp)

朴素的ch6。略微延长冰波让存冰有更多时间恢复，而w9/w19略微缩短冰波防止小丑炸核。

### RE 中开六炮 C6i-N 不稳定

[C6i-N: I-PP | I-PP | I-PP | N | PP (12.5, 12.5, 12.5, 6, 6.5)](./RE中开六炮/mo6p.cpp)

屋顶收尾特有的难绷，垫材只有花盆，收尾拖不满，C6i的用冰还多...

不稳定在于，收尾边路没有巨人时旁路巨人锤炮，以及小概率小鬼啃5-1炮。由于2-8/4-8都是核坑位，还不能使用垫材拖延。

### NE 舞夜惊魂 P6

[P6: cPP | cPP | cPP | cPP | cPP | cPP (6, 6, 6, 6, 6, 6)](./NE舞夜惊魂/dance12p.cpp)

女仆秘籍覆盖不到第一帧，那么想挂机的话，就必须把伴舞往回拉，掉节操不可避了（至少拉的距离小于1px看不出来

考级指南里写的Pc一度让我以为是垫材垫撑杆，想了半天没搞懂，然后看了演示之后发现，是cP垫舞王，然后在伴舞出土前连撑杆一起炸掉。

### NE 新舞夜惊魂 P6

[P6: cPP | cPP | cPP | cPP | cPP | cPP (6, 6, 6, 6, 6, 6)](./NE新舞夜惊魂/newdance.cpp)

即使借助修改器，这个开局也比[旧舞夜惊魂](#ne-舞夜惊魂-p6)麻烦许多，步骤如下：

1. 生成若干舞王（这里生成了10只），等待其召唤伴舞
2. 干掉一个舞王的前伴舞，退出重进
3. 等待该舞王召唤伴舞，退出重进
4. 干掉其前伴舞，在舞王召唤前生成一个扶梯僵尸，给舞王一个坚果
5. 选一个新的舞王，先干掉其前伴舞，再干掉扶梯，退出重进
6. 等待该舞王召唤伴舞，退出重进
7. 干掉其前伴舞，在舞王召唤前生成一个扶梯僵尸，给舞王一个坚果
8. 如果还有没处理的舞王，回到5
9. 把上述的“前伴舞”换成“后伴舞”，重复2-8步。
10. 魅惑所有舞王（不能用魅惑菇，会重置伴舞信息），移动舞王到x=3，两个扶梯到x=42，干掉多余的伴舞。
11. 借助文件夹下的 `newdance_start.cpp`，设置两个扶梯分别为第9波、第19波生成。

这样，所有舞王都会认为两个扶梯分别是它的前伴舞和后伴舞，舞王发现自己的前后伴舞在啃食上下伴舞，于是原地不动了（伴舞处于啃食动作）。上下伴舞手没有扶梯长，因此不会啃食扶梯，而扶梯恰好处于忧郁菇的判定范围内和攻击范围外，卡出永动曾。

这个阵比起旧舞夜惊魂稳定许多，每路都有冰瓜，不必担心减速不到，而且每个收尾都可以保证拖满，于是w20我就胡乱发炮了（

### RE 方块八炮 ch4\*

[ch4\*: I-PPDD | I-PPDD (20, 20)](./RE方块八炮/s8p.cpp)

感觉写完这个阵可以去写C2八炮了，笑死

倒是没有像C2八炮一样用2032冰波，因为巨人投掷到一半减速解除了，感觉拦截时间就不是很好算了。

就算是ch4\*，用冰量也是很大的，并且屋顶难拖收尾，所以不仅收尾不能点冰，还必须有首代操作。收尾的安排方式可以见代码里的注释。

## 计划完成的阵型

### PE 全金属四炮 ch4-N 手动 不稳定

[ch4-N: I-PP | I-PP | N | PP (18, 18, 12, 6)](./PE全金属四炮/metal4p.cpp)

存冰位置也太...不过基本就是复制之前的ch4-N了。

但是存冰好像转不过来，还是属于没完成。

### FE 弦十四炮 P4 未完成

[P4: PPDD | PPDD | PPDD | NDD (875, 875, 875, 850)](./FE弦十四炮/string14p.cpp)

尝试引入第五个垫材使得拦截严谨。目前的问题在于，发现6路小鬼不明原因拦截失败，以及小丑炸炮。另外w20还没写...